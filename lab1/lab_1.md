# Завершимость SRS

Рассмотрим систему переписывания, заданную следующими правилами:
- $aab \to ba$
- $aba \to b$
- $baa \to ab$
- $bba \to abb$
- $aaaa \to a$
- $aaa \to bbbbbb$
- $aa \to babbbbb$

Пусть $w = x_1 x_2 \ldots x_n$. Определим меры:

$$S_1(w) = |w|_a,$$

$$S_2(w) = \sum_{x_i = a} i.$$


Все правила системы, кроме правила $bba \to abb$, уменьшают значение меры $S_1(w)$.

Для правила

$$x_1 \ldots x_{n-1}\, bba\, x_{n+3} \ldots x_k \to x_1 \ldots x_{n-1}\, abb\, x_{n+3} \ldots x_k$$

значение $S_1(w)$ сохраняется, однако мера $S_2(w)$ уменьшается на $2$, поскольку буква $a$ смещается на две позиции влево.


Следовательно, при каждом применении правила системы значение пары
$(S_1(w), S_2(w))$ убывает по лексикографическому порядку.
Отсюда следует, что **данная SRS завершима.**

---

# Бесконечность классов эквивалентности

Рассмотрим семейство слов вида $ab^n$. Покажем, что к $ab^n$ не применимо ни одно из правил системы.

Действительно, левые части правил системы содержат подслова
$aa$, $aaa$, $aaaa$, $aab$, $aba$, $baa$ или $bba$.
В слове $ab^n$ буква $a$ встречается ровно один раз, поэтому подслов
$aa$, $aaa$, $aaaa$, $aab$, $aba$, $baa$ в нём нет.
Кроме того, подслово $bba$ также отсутствует, так как буква $a$
стоит перед всеми буквами $b$.

Так как при разных $n$ слова $ab^n$ различны и к каждому из них правила системы не применимы, они принадлежат различным классам эквивалентности. Следовательно, данная система переписывания **имеет бесконечно много
различных классов эквивалентности.**

---

# Отсутствие локальной конфлюэнтности, критерий Кнута–Бендикса

Рассмотрим слово $aaaa$.

К нему применимо правило $aaaa \to a$.

Одновременно к слову $aaaa$ применимо правило $aaa \to bbbbbb$ (к одному из
перекрывающихся подслов $aaa$), например к первым трём символам:

$$
aaaa = (aaa)a \to bbbbbb\,a.
$$

Возникает критическая пара $(a,\; bbbbbb\,a)$.

Применяя правило $bba \to abb$, можно последовательно перемещать букву $a$
влево на две позиции, поэтому

$$
b^6 a \to^* ab^6.
$$

К слову $a$ не применимо ни одно правило системы. Аналогично, к слову $ab^6$
не применимо ни одно правило системы, поскольку в нём ровно одна буква $a$
и она стоит перед всеми буквами $b$. Таким образом, из слова $aaaa$ за один шаг получаются два различных слова
$a$ и $bbbbbb\,a$, которые не переписываются к одному и тому же слову.
Следовательно, данная критическая пара неразрешима.

Отсюда следует, что система не является локально конфлюэнтной. Таким образом, **система не удовлетворяет критерию Кнута–Бендикса и является
непополняемой.**

---
